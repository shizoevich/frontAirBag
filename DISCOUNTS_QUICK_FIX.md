# üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∫–∏–¥–æ–∫

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫–∏–¥–æ–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç **–¥–∞–∂–µ –µ—Å–ª–∏ API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**:

1. **Mock –¥–∞–Ω–Ω—ã–µ**: –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
2. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ**: –ñ–µ–ª—Ç—ã–π –±–∞–Ω–Ω–µ—Ä —Å–≤–µ—Ä—Ö—É —Å–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ —Å API
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**: –ö–æ–≥–¥–∞ API –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### Mock –¥–∞–Ω–Ω—ã–µ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ):
```javascript
{
  id: 1, percentage: "2.00", month_payment: 1000000   // 10,000 –≥—Ä–Ω - 2%
  id: 2, percentage: "4.00", month_payment: 2500000   // 25,000 –≥—Ä–Ω - 4%
  id: 3, percentage: "6.00", month_payment: 6400000   // 64,000 –≥—Ä–Ω - 6%
  id: 4, percentage: "8.00", month_payment: 13000000  // 130,000 –≥—Ä–Ω - 8%
}
```

### –ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- ‚ö†Ô∏è **–ñ–µ–ª—Ç—ã–π –±–∞–Ω–Ω–µ—Ä** (–µ—Å–ª–∏ API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç): "API –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–∫–∞–∑–∞–Ω—ã –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ."
- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º, –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Å–∫–∏–¥–æ–∫
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∫–æ–≥–¥–∞ API –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ endpoint `GET /api/v2/discounts/` –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```json
{
  "count": 4,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 1,
      "percentage": "2.00",
      "month_payment": 1000000
    },
    {
      "id": 2,
      "percentage": "4.00",
      "month_payment": 2500000
    }
  ]
}
```

**Django –ø—Ä–∏–º–µ—Ä:**
```python
# models.py
class Discount(models.Model):
    percentage = models.DecimalField(max_digits=5, decimal_places=2)
    month_payment = models.IntegerField()  # –≤ –∫–æ–ø–µ–π–∫–∞—Ö

# views.py
from rest_framework import viewsets
from rest_framework.permissions import AllowAny

class DiscountViewSet(viewsets.ModelViewSet):
    queryset = Discount.objects.all()
    serializer_class = DiscountSerializer
    permission_classes = [AllowAny]  # –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–¥–µ–ª–∞—Ç—å endpoint –ø—É–±–ª–∏—á–Ω—ã–º

–ï—Å–ª–∏ endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```python
# views.py
permission_classes = [AllowAny]  # –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS

–î–æ–±–∞–≤—å—Ç–µ –≤ Django settings:

```python
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3000",
    "https://yourdomain.com",
]
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools** (F12)
2. **–í–∫–ª–∞–¥–∫–∞ Console**: –ù–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   Fetching discounts from: /discounts/
   Discounts API Response: { ... }
   ```
3. **–í–∫–ª–∞–¥–∫–∞ Network**: –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `/discounts/`
   - –°—Ç–∞—Ç—É—Å 200 = OK
   - –°—Ç–∞—Ç—É—Å 404 = Endpoint –Ω–µ –Ω–∞–π–¥–µ–Ω
   - –°—Ç–∞—Ç—É—Å 401 = –ù—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
   - –°—Ç–∞—Ç—É—Å 500 = –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –¢–µ—Å—Ç —á–µ—Ä–µ–∑ curl:

```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
curl https://api.airbagad.com/api/v2/discounts/

# –° –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
curl -H "Authorization: Bearer YOUR_TOKEN" \
     https://api.airbagad.com/api/v2/discounts/
```

## üìù –ö–æ–≥–¥–∞ API –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç

### –£–¥–∞–ª–∏—Ç–µ mock –¥–∞–Ω–Ω—ã–µ:

–í —Ñ–∞–π–ª–µ `/src/app/[locale]/discounts/page.jsx` –Ω–∞–π–¥–∏—Ç–µ –∏ —É–¥–∞–ª–∏—Ç–µ:

```javascript
// Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—É–¥–∞–ª–∏—Ç—å –∫–æ–≥–¥–∞ API –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç)
const MOCK_DISCOUNTS = {
  // ...
};
```

–ò –∏–∑–º–µ–Ω–∏—Ç–µ:

```javascript
// –ë—ã–ª–æ:
const discounts = (isError || !apiDiscounts) ? MOCK_DISCOUNTS : apiDiscounts;

// –°—Ç–∞–Ω–µ—Ç:
const discounts = apiDiscounts;
```

### –ò–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å

Mock –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–º–∏, –∫–æ–≥–¥–∞ API –Ω–∞—á–Ω–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–π –±–∞–Ω–Ω–µ—Ä –∏—Å—á–µ–∑–Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è

1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **–ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—ç–∫–µ–Ω–¥–∞
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∫–∞–∫ —Ç–æ–ª—å–∫–æ API –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `DISCOUNTS_API_GUIDE.md`
- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: `DISCOUNTS_TROUBLESHOOTING.md`
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**: –°–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Django —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_API_BASE_URL`
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ª–æ–≥ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint –Ω–∞ –±—ç–∫–µ–Ω–¥–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞)
